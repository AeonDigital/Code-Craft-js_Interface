<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Resize div</title>
        
        
        <script src="https://rawgit.com/AeonDigital/Code-Craft-js_BasicTools/master/BasicTools.js"></script>
        <script src="https://rawgit.com/AeonDigital/Code-Craft-js_BasicDOM/master/BasicDOM.js"></script>
        <script src="../Interface.js"></script>

        <style>
            body {margin: 0; padding: 0;}
            [data-ccw-drag] {cursor: move;}
            [data-ccw-resize] {
                position: absolute;
                z-index: 2;

                border: 1px dashed #000;
                box-sizing: border-box;

                background-color: #FFF;
            }
            [data-ccw-resize-limit] {
                overflow: hidden;
            }
            [data-ccw-resize-pointer] {
                width: 8px;
                height: 8px;

                position: absolute;
                z-index: 2;
                
                border: 1px solid #000;
                box-sizing: border-box;
                
                background-color: #FFF;
            }
            [data-ccw-resize-pointer="nw"] { left: -4px; top: -4px; cursor: nw-resize; }
            [data-ccw-resize-pointer="ne"] { top: -4px; right: -4px; cursor: ne-resize; }
            [data-ccw-resize-pointer="sw"] { bottom: -4px; left: -4px; cursor: sw-resize; }
            [data-ccw-resize-pointer="se"] { bottom: -4px; right: -4px; cursor: se-resize; }
            [data-ccw-resize-pointer="n"] { top: -4px; left:calc(50% - 4px); cursor: n-resize; }
            [data-ccw-resize-pointer="s"] { bottom: -4px; left:calc(50% - 4px); cursor: s-resize; }
            [data-ccw-resize-pointer="w"] { left: -4px; top:calc(50% - 4px); cursor: w-resize; }
            [data-ccw-resize-pointer="e"] { right: -4px; top:calc(50% - 4px); cursor: e-resize; }
            
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="nw"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="ne"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="sw"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="n"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="s"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="w"],
            [data-ccw-resize-ratio] [data-ccw-resize-pointer="e"] {display: none;}


            /* Esconde ponteiros para casos fixos */
            [data-ccw-resize-fix] [data-ccw-resize-pointer] {display: none;}



            /* Crop */
            [data-ccw-crop-canvas] {overflow: hidden; text-align: center; margin: 0 auto;}
            [data-ccw-crop-img] {
                max-width: 100%;
                max-height: 100%;

                position: absolute;
                top: 0;
                left: 0;
                z-index: 1;
                
                box-sizing: border-box;
            }
            [data-ccw-crop-shadow] {
                width: 100%;
                height: 100%;
                
                position: relative;
                z-index: 1;

                background-color: #000;
                opacity: .6;
            }
        </style>
    </head>
    <body>

        <div 
            data-ccw-resize-limit="" 
            data-ccw-drag-limit="" 
            data-ccw-crop-canvas=""
            style="width: 900px; height: 500px; background-color: #999; position: relative; top: 20px; left: 20px;">
            
            <img data-ccw-crop-img="" src="__crop.jpg" alt="crop" />
            <div data-ccw-crop-shadow=""></div>

            <div    data-ccw-drag="true" 
                    data-ccw-resize="" 

                    data-ccw-resize-fix="200px 75px"
                    style="width: 120px; height: 80px; top: 150px; left: 150px;">
            </div>

        </div>


        <script>
            // <![CDATA[
            var _dom = CodeCraft.BasicDOM;
            var Interface = CodeCraft.Interface;


            /*
            - tamanhos exatos           [data-ccw-resize-fix="200px 75px"]
            - tamanhos máximos          [data-ccw-resize-max="500px 250px"]
            - tamanhos mínimos          [data-ccw-resize-min="100px 50px"]
            - tamanhos proporcionais    [data-ccw-resize-ratio="3:2"]
            */


            //Interface.SetResizeElement();
            //Interface.SetDragElement();
            Interface.SetCropCanvas();
            // ]]>
        </script>
    </body>
</html>